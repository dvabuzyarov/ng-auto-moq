language: node_js
node_js:
- stable
sudo: false
cache:
  directories:
  - node_modules
git:
  depth: 1
install:
- npm install
script:
- npm run lint
- npm run test
- npm run build
before_deploy:
- cd dist/ng-auto-moq
deploy:
  skip_cleanup: true
  provider: npm
  email: dvabuzyarov@gmail.com
  api_key:
    secure: e991ED9JrkI4bb9uzzj2UzFvUismIohaW86YqvSV8eAOm3cFtXfoVoiFSm9cPjcWpWN/zeQzY5lhI7EDdxdjDXEDLyyJFFvi/SIubWYA/UM9W2u/bsLglPm76a374EWFyyk2lpSx/oc3K5ZlvGB7K6C23Ve766s8qOrchV8o4QcYhEeyShjw0YP1XGm0xJIOshHke/2m5GrTIR9WCDBFjX40isdFXAqHjk7s6rReHnKtmbxaCaJjU8BUKaiTqseBEnc/sOc3RtIMuYdIa8eA6MpbVfRiolZaieFx5OtHjN7E5Z5Jk0ayudO/MBSTHHfUGsKIYvSrnkzDuozElsi5S9VwVsiEhIY8fPVmJq5ryl4XVstgDXKU08HgrLZWvGmdrgVckZLLFbZ8/yzzi42nu+BUC6wDC/XRlA68Q3tdKQKQF0+44DJBEcvk+wjnobvjhOyoyZI/nvz2SRbM1naixf0DCawe72ZICFD+tVfQ3xOsqANDJqY4KdinB39zYpRtjqtkZTPah4bhfT1PZ6vx3UPhZI2lmpGNM9a71GTjqsAGzVpe/RtS8o3TvHmtcHV/OaW3NGspysWxS8XFkxcHpCrmFqBkPe+iu10SD2GG/TTdVY1dIOtwbmT1S6Epy2aanI1Mvus2Zf6yLG4oND/UpF2FX5ol48JKbqCn5y8ApBA=
  on:
    tags: true
    repo: dvabuzyarov/ng-auto-moq
